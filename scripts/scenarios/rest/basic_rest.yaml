# Basic rest scenario - tests resting mechanic
# Validates that the player can rest to recover
scenario:
  name: "Basic Rest"
  description: "Test rest command for recovery"
  seed: 42010
  config:
    max_commands: 20
    timeout: 60

  setup:
    - "dump_state"  # Get initial state

  steps:
    # Step 1: Look at surroundings
    - command: "look"
      assertions:
        - type: COMMAND_VALID
          field: ""
          value: true
          message: "look command should be valid"

    # Step 2: Get current state
    - command: "dump_state"
      assertions:
        - type: CONTENT_PRESENT
          field: "health"
          value: true
          message: "Health should be tracked"
        - type: STATE_RANGE
          field: "tiredness"
          value:
            min: 0
            max: 100
          message: "Tiredness should be in valid range"

    # Step 3: Try rest command
    - command: "rest"
      assertions:
        - type: COMMAND_VALID
          field: ""
          value: true
          message: "rest command should be recognized"

    # Step 4: Get state after rest attempt
    - command: "dump_state"
      assertions:
        - type: STATE_RANGE
          field: "health"
          value:
            min: 1
            max: 200
          message: "Health should be in valid range after rest"
        - type: STATE_RANGE
          field: "tiredness"
          value:
            min: 0
            max: 100
          message: "Tiredness should still be in valid range"
